# ============================================
# FILE: .env.example
# Environment Variables for Attendance Module
# Copy this file to .env and configure
# ============================================

# ============================================
# Database Configuration
# ============================================
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=your_password
DB_DATABASE=hr_platform
DB_NAME=hr_backend

# ============================================
# Redis Configuration (for Bull Queue)
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ============================================
# Attendance Module - Grace Periods (minutes)
# ============================================
# How many minutes late is acceptable without marking as late
GRACE_IN_MINUTES=5

# How many minutes early leave is acceptable
GRACE_OUT_MINUTES=0

# ============================================
# Attendance Module - Time Calculation
# ============================================
# Round worked minutes to nearest X minutes
ROUNDING_MINUTES=5

# Minimum extra minutes to count as overtime
OVERTIME_THRESHOLD_MINUTES=15

# ============================================
# Attendance Module - Night Shift
# ============================================
# Define night shift hours (24-hour format)
NIGHT_SHIFT_START_HOUR=22
NIGHT_SHIFT_END_HOUR=6

# ============================================
# Attendance Module - Timezone
# ============================================
DEFAULT_TIMEZONE=Asia/Tashkent

# ============================================
# Attendance Module - Webhook Security
# ============================================
# Secret key for webhook signature validation
WEBHOOK_SECRET=your-webhook-secret-key

# ============================================
# Attendance Module - Queue Settings
# ============================================
# Number of concurrent jobs to process
QUEUE_CONCURRENCY=5

# Maximum retry attempts for failed jobs
MAX_RETRY_ATTEMPTS=3

# Delay between retries (milliseconds)
RETRY_DELAY_MS=2000

# ============================================
# Attendance Module - Alert Thresholds
# ============================================
# Alert if more than X events per employee per day
MAX_EVENTS_PER_DAY=50

# Alert if worked hours exceed X hours
MAX_WORK_HOURS_PER_DAY=16

# ============================================
# Attendance Module - Approval Settings
# ============================================
# Auto-approve if late/early < X minutes
AUTO_APPROVE_THRESHOLD_MINUTES=5

# Require manual approval if overtime > X minutes
REQUIRE_APPROVAL_OVERTIME_MINUTES=180

# ============================================
# Attendance Module - Cron Jobs
# ============================================
# Enable/disable daily processing (runs at 1 AM)
ENABLE_DAILY_PROCESSING_CRON=true

# Enable/disable retry failed events (runs every hour)
ENABLE_RETRY_FAILED_CRON=true

# Enable/disable cleanup jobs (runs weekly)
ENABLE_CLEANUP_CRON=true

# ============================================
# Attendance Module - Auto Approval
# ============================================
# Auto-approve old records
AUTO_APPROVE_OLD_RECORDS=false

# Auto-approve records older than X days
AUTO_APPROVE_AFTER_DAYS=7

# ============================================
# Attendance Module - Data Retention (days)
# ============================================
# Keep processing logs for X days
RETENTION_PROCESSING_LOGS_DAYS=90

# Keep attendance events for X days
RETENTION_EVENTS_DAYS=180

# Keep attendance records for X days (10 years by default)
RETENTION_RECORDS_DAYS=3650

# ============================================
# Attendance Module - Rate Limiting
# ============================================
# Webhook endpoint rate limit (requests per minute)
WEBHOOK_RATE_LIMIT=100

# API endpoint rate limit (requests per minute)
API_RATE_LIMIT=100

# ============================================
# JWT Configuration
# ============================================
JWT_SECRET=your-super-secret-jwt-keykey
JWT_EXPIRES_IN=24h

# ============================================
# Application Configuration
# ============================================
NODE_ENV=development
PORT=3000
API_PREFIX=api/v1

# ============================================
# Logging
# ============================================
LOG_LEVEL=debug
LOG_FORMAT=json

# ============================================
# Email Configuration (optional)
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@yourcompany.com

# ============================================
# Notification Services (optional)
# ============================================
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# ============================================
# Monitoring (optional)
# ============================================
SENTRY_DSN=https://your-sentry-dsn
SENTRY_ENVIRONMENT=development

# ============================================
# Feature Flags
# ============================================
ENABLE_SWAGGER_DOCS=true
ENABLE_CORS=true
ENABLE_RATE_LIMITING=true

# ============================================
# Development Settings
# ============================================
# Set to true in development to see detailed errors
DEBUG_MODE=true

# Enable request logging
ENABLE_REQUEST_LOGGING=true


# Vendor API (Terminal Integration)
VENDOR_API_URL=https://api.vendor.com/v1
VENDOR_API_KEY=your-vendor-api-key

# Attendance Configuration
OVERTIME_MULTIPLIER=1.5
HOLIDAY_MULTIPLIER=2.0

# File Upload
MAX_FILE_SIZE=10485760  # 10MB

# CORS
CORS_ORIGIN=http://localhost:3000

# Email Configuration (optional)
SMTP_PASS=your-email-password
